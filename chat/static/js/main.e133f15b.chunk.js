(this["webpackJsonpchat-on-firebase"]=this["webpackJsonpchat-on-firebase"]||[]).push([[0],{108:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return M}));var c=n(1),a=n.n(c),i=n(23),r=n.n(i),s=n(43),o=(n(98),n(20)),j=n(57),d=n(25),u=n(0),b=n.n(u),l=n(2),h=n(45),x=n(139),O=n(142),p=n(149),f=n(145),v=n(148),m=n(77),g=n(15),y=function(){return Object(g.jsx)(x.a,{children:Object(g.jsx)(O.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(g.jsx)(O.a,{container:!0,alignItems:"center",direction:"column",children:Object(g.jsxs)("div",{class:"lds-default",children:[Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{})]})})})})},w=function(){var e=Object(c.useContext)(M),t=e.auth,n=e.firestore,a=Object(h.a)(t),i=Object(o.a)(a,1)[0],r=Object(c.useState)(""),j=Object(o.a)(r,2),d=j[0],u=j[1],w=Object(m.a)(n.collection("messages").orderBy("createdAt")),C=Object(o.a)(w,2),I=C[0],k=C[1],L=function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:i.uid,displayName:i.displayName,photoURL:i.photoURL,text:d,createdAt:s.a.firestore.FieldValue.serverTimestamp()}),u("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k?Object(g.jsx)(y,{}):Object(g.jsx)(x.a,{children:Object(g.jsxs)(O.a,{container:!0,justify:"center",style:{height:window.innerHeight-50,marginTop:20},children:[Object(g.jsx)("div",{style:{width:"80%",height:"60vh",border:"1px solid gray",overflowY:"auto"},children:I.map((function(e){return Object(g.jsxs)("div",{style:{margin:10,border:i.uid===e.uid?"2px solid green":"2px dashed red",marginLeft:i.uid===e.uid?"auto":"10px",width:"fit-content",padding:5},children:[Object(g.jsxs)(O.a,{container:!0,children:[Object(g.jsx)(p.a,{src:e.photoURL}),Object(g.jsx)("div",{children:e.displayName})]}),Object(g.jsx)("div",{children:e.text})]})}))}),Object(g.jsxs)(O.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(g.jsx)(f.a,{variant:"outlined",fullWidth:!0,rowsMax:2,value:d,onChange:function(e){return u(e.target.value)}}),Object(g.jsx)(v.a,{onClick:L,variant:"outlined",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})},C=n(147),I="/login",k="/chat",L=[{path:I,Component:function(){var e=Object(c.useContext)(M).auth,t=function(){var t=Object(l.a)(b.a.mark((function t(){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new s.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:c=t.sent,console.log(c);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsx)(x.a,{children:Object(g.jsx)(O.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(g.jsx)(O.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:Object(g.jsx)(C.a,{p:5,children:Object(g.jsx)(v.a,{onClick:t,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})})})})})}}],N=[{path:k,Component:w}],S=function(){var e=Object(c.useContext)(M).auth,t=Object(h.a)(e);return Object(o.a)(t,1)[0]?Object(g.jsxs)(d.d,{children:[N.map((function(e){var t=e.path,n=e.Component;return Object(g.jsx)(d.b,{path:t,component:n,exact:!0},t)})),Object(g.jsx)(d.a,{to:k})]}):Object(g.jsxs)(d.d,{children:[L.map((function(e){var t=e.path,n=e.Component;return Object(g.jsx)(d.b,{path:t,component:n,exact:!0},t)})),Object(g.jsx)(d.a,{to:I})]})},A=n(143),B=n(144),G=(n(108),function(){var e=Object(c.useContext)(M).auth,t=Object(h.a)(e),n=Object(o.a)(t,1)[0];return Object(g.jsx)(A.a,{color:"secondary",position:"static",children:Object(g.jsx)(B.a,{variant:"dense",children:Object(g.jsx)(O.a,{container:!0,justify:"flex-end",children:n?Object(g.jsx)(v.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"\u0412\u044b\u0439\u0442\u0438"}):Object(g.jsx)(j.b,{to:I,children:Object(g.jsx)(v.a,{variant:"outlined",children:"\u041b\u043e\u0433\u0438\u043d"})})})})})}),F=function(){var e=Object(c.useContext)(M).auth,t=Object(h.a)(e),n=Object(o.a)(t,3),a=(n[0],n[1]);n[2];return a?Object(g.jsx)(y,{}):Object(g.jsxs)(j.a,{children:[Object(g.jsx)(G,{}),Object(g.jsx)(S,{})]})};n(109),n(113);s.a.initializeApp({apiKey:"AIzaSyBFSLfLCk2Z2dbcIFkBNzG1Mi3qYTFGN_w",authDomain:"chat-firebase-e9a6a.firebaseapp.com",projectId:"chat-firebase-e9a6a",storageBucket:"chat-firebase-e9a6a.appspot.com",messagingSenderId:"455708282980",appId:"1:455708282980:web:cf562a8eac1c39c5afcf71",measurementId:"G-KYK7VMS7YN"});var M=Object(c.createContext)(null),Y=s.a.auth(),z=s.a.firestore();r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(M.Provider,{value:{firebase:s.a,auth:Y,firestore:z},children:Object(g.jsx)(F,{})})}),document.getElementById("root"))},98:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.e133f15b.chunk.js.map