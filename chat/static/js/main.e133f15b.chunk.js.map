{"version":3,"sources":["components/Loader.js","components/Chat.js","utils/consts.js","routes.js","components/Login.js","components/AppRouter.js","components/Navbar.js","App.js","index.js"],"names":["Loader","Container","Grid","container","style","height","window","innerHeight","alignItems","justify","direction","class","Chat","useContext","Context","auth","firestore","useAuthState","user","useState","value","setValue","useCollectionData","collection","orderBy","messages","loading","sendMessage","a","add","uid","displayName","photoURL","text","createdAt","firebase","FieldValue","serverTimestamp","marginTop","width","border","overflowY","map","message","margin","marginLeft","padding","Avatar","src","TextField","variant","fullWidth","rowsMax","onChange","e","target","Button","onClick","LOGIN_ROUTE","CHAT_ROUTE","publicRoutes","path","Component","login","provider","GoogleAuthProvider","signInWithPopup","console","log","background","Box","p","privateRoutes","AppRouter","component","exact","to","NavBar","AppBar","color","position","Toolbar","signOut","App","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.e133f15b.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Container, Grid } from '@material-ui/core';\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Grid container style={{height: window.innerHeight - 50}} alignItems={'center'} justify={'center'}>\r\n\t\t\t\t<Grid container alignItems={'center'} direction={'column'}>\r\n\t\t\t\t\t<div class=\"lds-default\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Container>\r\n\t)\r\n};\r\n\r\nexport default Loader;","import React from 'react';\r\nimport { auth, firestore, useAuthState } from 'react-firebase-hooks/auth';\r\nimport { Context } from '../index';\r\nimport { useContext } from 'react';\r\nimport { Button, Container, Grid, TextField, Avatar } from '@material-ui/core';\r\nimport { useState } from 'react';\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport Loader from './Loader';\r\nimport firebase from 'firebase/compat/app';\r\n\r\nconst Chat = () => {\r\n    const { auth, firestore } = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n    const [value, setValue] = useState('');\r\n    const [messages, loading] = useCollectionData(\r\n        firestore.collection('messages').orderBy('createdAt')\r\n    );\r\n\r\n    const sendMessage = async () => {\r\n        firestore.collection('messages').add({\r\n            uid: user.uid,\r\n            displayName: user.displayName,\r\n            photoURL: user.photoURL,\r\n            text: value,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n        });\r\n        setValue('');\r\n    };\r\n\r\n    if (loading) {\r\n        return <Loader />;\r\n    }\r\n    return (\r\n        <Container>\r\n            <Grid\r\n                container\r\n                justify=\"center\"\r\n                style={{ height: window.innerHeight - 50, marginTop: 20 }}\r\n            >\r\n                <div\r\n                    style={{\r\n                        width: '80%',\r\n                        height: '60vh',\r\n                        border: '1px solid gray',\r\n                        overflowY: 'auto',\r\n                    }}\r\n                >\r\n                    {messages.map((message) => {\r\n                        return (\r\n                            <div\r\n                                style={{\r\n                                    margin: 10,\r\n                                    border:\r\n                                        user.uid === message.uid\r\n                                            ? '2px solid green'\r\n                                            : '2px dashed red',\r\n                                    marginLeft:\r\n                                        user.uid === message.uid\r\n                                            ? 'auto'\r\n                                            : '10px',\r\n                                    width: 'fit-content',\r\n                                    padding: 5,\r\n                                }}\r\n                            >\r\n                                <Grid container>\r\n                                    <Avatar src={message.photoURL} />\r\n                                    <div>{message.displayName}</div>\r\n                                </Grid>\r\n                                <div>{message.text}</div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n                <Grid\r\n                    container\r\n                    direction={'column'}\r\n                    alignItems={'flex-end'}\r\n                    style={{ width: '80%' }}\r\n                >\r\n                    <TextField\r\n                        variant={'outlined'}\r\n                        fullWidth\r\n                        rowsMax={2}\r\n                        value={value}\r\n                        onChange={(e) => setValue(e.target.value)}\r\n                    ></TextField>\r\n                    <Button onClick={sendMessage} variant={'outlined'}>\r\n                        Отправить\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Chat;\r\n","export const LOGIN_ROUTE = '/login';\r\nexport const CHAT_ROUTE = '/chat';","import Chat from './components/Chat';\r\nimport Login from './components/Login';\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from './utils/consts';\r\n\r\nexport const publicRoutes =[\r\n\t{\r\n\t\tpath: LOGIN_ROUTE,\r\n\t\tComponent: Login\r\n\t}\r\n];\r\n\r\nexport const privateRoutes =[\r\n\t{\r\n\t\tpath: CHAT_ROUTE,\r\n\t\tComponent: Chat\r\n\t}\r\n]","import { Box, Container, Grid, Button } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useContext } from 'react';\r\nimport { Context } from './../index';\r\nimport firebase from 'firebase/compat/app';\r\n\r\nconst Login = () => {\r\n\tconst {auth} = useContext(Context);\r\n\r\n\tconst login = async () => {\r\n\t\tconst provider = new firebase.auth.GoogleAuthProvider();\r\n\t\tconst user = await auth.signInWithPopup(provider);\r\n\t\tconsole.log(user);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Grid container style={{height: window.innerHeight - 50}} alignItems={'center'} justify={'center'}>\r\n\t\t\t\t<Grid style={{width: 400, background: 'lightgray'}} container alignItems={'center'} direction={'column'}>\r\n\t\t\t\t\t<Box p={5}>\r\n\t\t\t\t\t\t<Button onClick={login} variant={'outlined'}>Войти с помощью Google</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Container>\r\n\t);\r\n};\r\n \r\nexport default Login;","import React from 'react';\r\nimport {Route, Switch, Redirect} from 'react-router-dom';\r\nimport { privateRoutes, publicRoutes } from '../routes';\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from '../utils/consts';\r\nimport {useAuthState} from 'react-firebase-hooks/auth';\r\nimport { Context } from './../index';\r\nimport { useContext } from 'react';\r\n\r\nconst AppRouter = () => {\r\n\tconst {auth} = useContext(Context);\r\n\tconst [user] = useAuthState(auth);\r\n\treturn user ? \r\n\t\t(\r\n\t\t\t<Switch>\r\n\t\t\t\t{privateRoutes.map(({path, Component}) => \r\n\t\t\t\t\t<Route key={path} path={path} component={Component} exact={true}/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Redirect to={CHAT_ROUTE}/>\r\n\t\t\t</Switch>\r\n\t\t)\r\n\t\t:\r\n\t\t(\r\n\t\t\t<Switch>\r\n\t\t\t\t{publicRoutes.map(({path, Component}) => \r\n\t\t\t\t\t<Route key={path} path={path} component={Component} exact={true}/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Redirect to={LOGIN_ROUTE}/>\r\n\t\t\t</Switch>\r\n\t\t);\r\n};\r\n\r\nexport default AppRouter;","import React from 'react';\r\nimport {AppBar, Toolbar, Grid, Button} from '@material-ui/core';\r\nimport {NavLink} from 'react-router-dom';\r\nimport '../App.css';\r\nimport { LOGIN_ROUTE } from './../utils/consts';\r\nimport { useContext } from 'react';\r\nimport { Context } from './../index';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\n\r\nconst NavBar = () => {\r\n\tconst {auth} = useContext(Context);\r\n\tconst [user] = useAuthState(auth);\r\n\treturn (\r\n\t\t<AppBar color={'secondary'} position=\"static\">\r\n  \t\t\t<Toolbar variant=\"dense\">\r\n                <Grid container justify={'flex-end'}>\r\n                    {user ? <Button onClick={() => auth.signOut()} variant={'outlined'}>Выйти</Button>\r\n                    : <NavLink to={LOGIN_ROUTE}><Button variant={'outlined'}>Логин</Button></NavLink>\r\n                    }\r\n                </Grid>\r\n  \t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\t);\r\n};\r\n \r\nexport default NavBar;","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport AppRouter from './components/AppRouter';\nimport NavBar from './components/Navbar';\nimport Loader from './components/Loader';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { Context } from './index';\nimport { useContext } from 'react';\n\nconst App = () => {\n    const { auth } = useContext(Context);\n    const [user, loading, error] = useAuthState(auth);\n    if (loading) {\n        return <Loader />;\n    }\n    return (\n        <BrowserRouter>\n            <NavBar />\n            <AppRouter />\n        </BrowserRouter>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport firebase from 'firebase/compat/app';\nimport './index.css';\nimport App from './App';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport { createContext } from 'react';\n\nfirebase.initializeApp({\n    apiKey: \"AIzaSyBFSLfLCk2Z2dbcIFkBNzG1Mi3qYTFGN_w\",\n    authDomain: \"chat-firebase-e9a6a.firebaseapp.com\",\n    projectId: \"chat-firebase-e9a6a\",\n    storageBucket: \"chat-firebase-e9a6a.appspot.com\",\n    messagingSenderId: \"455708282980\",\n    appId: \"1:455708282980:web:cf562a8eac1c39c5afcf71\",\n    measurementId: \"G-KYK7VMS7YN\"\n});\n\nexport const Context = createContext(null);\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nReactDOM.render(\n    <React.StrictMode>\n    <Context.Provider value={{\n        firebase,\n        auth,\n        firestore\n    }}>\n        <App />\n    </Context.Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}